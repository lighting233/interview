# JavaScript中优化手段

## 一、通过数组的在 V8 引擎底层的快、慢数组之分优化遍历速度
1. 默认创建的数组一般为快数组，因为快数组的索引和值默认存在自身的 elements 属性上，比通过多一层 hashtable 处理存储的慢数组访问速度快。
2. 一般情况，避免快数组转换为慢数组，快数组转慢数组主要有两种形式：
   1. 如果快数组**扩容**后，存储空间比原来大了 ==3 倍==，意味着比 hashtable 形式的慢数组存储消耗更大的内存。
   2. 如果扩容 >= array.length + 1024,则快数组转为慢数组。

## 二、`beginWork`性能优化策略
- 一个节点下可能有很多个子节点，都标记了placement，那就要插入 dom 多次，我们可以建立好一个离屏dom 树，对 div 进行一次整体的placement操作。