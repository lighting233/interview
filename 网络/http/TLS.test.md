## HTTPS HTTP TLS/SSL
SSL 是 TLS 的前身，现在绝大部分浏览器都不支持 SSL 了

### 一、TLS 1.2 建立流程
- 
![流程图](../../img/tls.png)

---

### 二、数字证书

#### **数字签名**的制作过程：
1. 
2. 
3. 

#### 浏览器验证过程：
1. 
2. 
3. 
4. 。

#### 为什么制作数字签名时需要hash一次？

---

### 三、TCP+TLS解决的问题包括
- 消息的可靠传输（TCP）
    1. 
    2. 
    3. 
- 消息的安全传输（TLS）
    1. 
    2. 
    3. 
    4. 


### 四、问题

#### 1.在客户端和服务端建立 tls1.2 连接时首先要进行三次握手，之后服务端发送一个响应报文告诉客户端选择的加密套件，再发送一个数据证书，再发送公钥，再发送完成报文？为什么客户端和服务端还没有建立 https 连接，服务端就可以一次推送四个报文？

### 如果说这些报文在同一个 TCP 数据包中发送，那为什么每条信息的 seq 不同呢？
- 
- 
- 

#### 2.为什么不直接用第三个随机数（预主秘钥）来作为对称加密的秘钥，还要去和随机数1和2进行计算呢？


#### 3.服务端和ca加密过程的区别
- 
- 

#### 4.当前浏览器没有数字证书中，颁发这个证书的中间 ca 的证书怎么办？
- 
- 
- 
- 

#### 5.每次进行HTTPS请求时都必须在SSL/TLS层进行握手传输密钥吗？
- 
- 

#### 6.非对称加密比对称加密慢的主要原因是其加密和解密过程的复杂性和计算成本较高。以下是一些导致非对称加密速度较慢的主要因素：
1. 
2. 
3. 
4. 

#### 7.使用https绝对安全吗？
1. 
2. 
3. 

#### 8.介绍下 HTTPS 中间人攻击

##### 1. **常见的中间人攻击类型**

   **1. 

   **2. 

   **3. 

##### 2. **防御措施**

   **1. 

   **2. 

   **3. 

   **4. 

   **5. 



#### 9.什么是中间证书链攻击？

#### 10.重放攻击
##### 1.一个 tcp连接里重放 http 的攻击
##### MAC 防止重放攻击
- **消息序列号**：
- **时间戳**：
- **验证顺序**：
- **TLS 会话重新协商**：

##### 实际过程
1. 数据发送：
   - 
   - 
2. 数据接收：
   - 
   - 
   - 
##### 2.重放整个tcp连接的攻击


#### 11. 分割报文问题
- 
- 
- 
- 

####  12.每次进行HTTPS请求时都必须在SSL/TLS层进行握手传输密钥吗？

##### **会话恢复（Session Resumption）**
   - **过程**：
     - **基于会话 ID 的恢复**：
     - **基于会话票据（Session Ticket）的恢复**：


#### 13.tls握手阶段会使用随机数来参与生成主密钥，由于主密钥由随机数参与生成所以可以避免整个 tcp 连接重放的攻击，但是如果我使用Session ID来恢复连接，那我的主密钥与之前相同，服务器会不会认为这个一个整段 tcp 重放的攻击？
- **新的握手过程**：
- **唯一的消息序列号**：
- **MAC（消息认证码）**：

#### 14.tls1.3 如何使用 0RTT恢复会话？有被重放攻击的风险吗？

##### TLS 1.3 中的 0-RTT 恢复会话


##### 0-RTT 的安全性问题

#### 14. 介绍下 HSTS

##### HSTS 的工作原理

1. **响应头的配置**：


2. **客户端行为**：

3. **防止协议降级攻击**：
   

4. **预加载列表**：



### 五、TLS1.2和TLS1.3

#### TLS1.2的加密算法
1. 
2. 


#### TLS1.3
![tls1.3握手过程](../../img/tls1.3.png)
#### 1.废弃 DH 算法中很多弱的参数组合
- 
- 
- 

#### 2.密码套件
- 
- 
- 
- 
- 